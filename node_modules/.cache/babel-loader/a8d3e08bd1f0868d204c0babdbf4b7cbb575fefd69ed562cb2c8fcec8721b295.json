{"ast":null,"code":"var _jsxFileName = \"/Users/ryanmorrison/Code/narrativeforge/src/components/ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Send, Settings, Music, BookOpen, ScrollText } from 'lucide-react';\nimport RoleplayInstructions from './RoleplayInstructions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatInterface = ({\n  character,\n  scenario,\n  onSaveChat,\n  geminiService,\n  onReset\n}) => {\n  _s();\n  var _scenario$setting, _scenario$setting2, _scenario$setting3, _scenario$otherCharac;\n  const [messages, setMessages] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [messageType, setMessageType] = useState('dialogue'); // dialogue, action, thought\n  const [showInstructionsEditor, setShowInstructionsEditor] = useState(false);\n  const [showSettingsPanel, setShowSettingsPanel] = useState(false);\n  const [showMusicPanel, setShowMusicPanel] = useState(false);\n  const [showScenarioInfo, setShowScenarioInfo] = useState(false);\n  const [roleplayInstructions, setRoleplayInstructions] = useState((scenario === null || scenario === void 0 ? void 0 : scenario.roleplayInstructions) || '');\n  const messagesEndRef = useRef(null);\n\n  // When scenario changes, update the roleplay instructions\n  useEffect(() => {\n    if (scenario && scenario.roleplayInstructions) {\n      setRoleplayInstructions(scenario.roleplayInstructions);\n    }\n  }, [scenario]);\n\n  // Initial system message when the scenario begins\n  useEffect(() => {\n    if (scenario && !messages.length) {\n      // Create initial narrative message describing the scenario\n      const initialMessage = {\n        id: Date.now(),\n        type: 'system',\n        content: scenario.initialSituation,\n        timestamp: new Date()\n      };\n      setMessages([initialMessage]);\n\n      // If there are roleplay instructions, set them but DON'T add them as a visible message\n      if (scenario.roleplayInstructions) {\n        setRoleplayInstructions(scenario.roleplayInstructions);\n      }\n\n      // Simulate AI thinking and then responding to set the scene\n      handleAiResponse();\n    }\n  }, [scenario]);\n\n  // Auto-scroll to bottom when messages change\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n\n  // Save roleplay instructions\n  const saveRoleplayInstructions = instructions => {\n    setRoleplayInstructions(instructions);\n    setShowInstructionsEditor(false);\n\n    // Don't add to visible messages, but update the AI context\n    if (geminiService) {\n      geminiService.updateInstructions(instructions);\n    }\n  };\n\n  // Cancel editing instructions\n  const cancelEditInstructions = () => {\n    setShowInstructionsEditor(false);\n  };\n\n  // Send user message\n  const handleSendMessage = () => {\n    if (!inputValue.trim()) return;\n\n    // Create user message object\n    const userMessage = {\n      id: Date.now(),\n      sender: 'user',\n      type: messageType,\n      content: inputValue,\n      timestamp: new Date()\n    };\n\n    // Add message to chat\n    setMessages(prev => [...prev, userMessage]);\n\n    // Clear input field\n    setInputValue('');\n\n    // Process with AI\n    handleAiResponse(userMessage.content, userMessage.type);\n  };\n\n  // Handle key press (Enter to send)\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  // Get AI response\n  const handleAiResponse = async (userMessage, messageType) => {\n    setIsTyping(true);\n    try {\n      let responseContent;\n\n      // If we have a Gemini service, use it\n      if (geminiService) {\n        // For the first message, include roleplay instructions if they exist\n        if (!userMessage && roleplayInstructions) {\n          // Add it to the context for the AI but don't show it in chat\n          const initPrompt = `Initial scene: ${scenario.initialSituation}\\n\\nRoleplay instructions:\\n${roleplayInstructions}\\n\\nPlease respond with an opening for this scene, following the roleplay instructions but without mentioning them directly.`;\n          responseContent = await geminiService.generateGeneric(initPrompt);\n        } else {\n          responseContent = await geminiService.generateResponse(userMessage, messageType);\n        }\n      } else {\n        // Fallback for development\n        await new Promise(resolve => setTimeout(resolve, 1500));\n        responseContent = \"This is a placeholder response. In the full implementation, this would be a response from Google's Gemini LLM, responding appropriately to your character's situation.\";\n      }\n      const aiMessage = {\n        id: Date.now(),\n        sender: 'ai',\n        type: 'dialogue',\n        content: responseContent,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, aiMessage]);\n    } catch (error) {\n      console.error('Error getting AI response:', error);\n\n      // Add error message\n      const errorMessage = {\n        id: Date.now(),\n        sender: 'system',\n        type: 'error',\n        content: 'There was an error getting a response. Please try again.',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  // Format message based on type\n  const formatMessage = message => {\n    switch (message.type) {\n      case 'system':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"system-message\",\n          children: message.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 16\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: message.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 16\n        }, this);\n      case 'dialogue':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `dialogue-message ${message.sender}`,\n          children: message.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 16\n        }, this);\n      case 'action':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `action-message ${message.sender}`,\n          children: [\"*\", message.content, \"*\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 16\n        }, this);\n      case 'thought':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `thought-message ${message.sender}`,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: message.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 67\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `message ${message.sender}`,\n          children: message.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-interface\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: (scenario === null || scenario === void 0 ? void 0 : scenario.title) || 'Untitled Scenario'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn reset-chat-btn\",\n          onClick: onReset,\n          title: \"Start Over\",\n          children: \"Start Over\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn\",\n          onClick: () => setShowInstructionsEditor(true),\n          title: \"View/Edit Roleplay Instructions\",\n          children: /*#__PURE__*/_jsxDEV(ScrollText, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn\",\n          onClick: () => setShowSettingsPanel(true),\n          title: \"Roleplay Settings\",\n          children: /*#__PURE__*/_jsxDEV(Settings, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn\",\n          onClick: () => setShowMusicPanel(true),\n          title: \"Ambient Music\",\n          children: /*#__PURE__*/_jsxDEV(Music, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn\",\n          onClick: () => setShowScenarioInfo(true),\n          title: \"View Scenario Details\",\n          children: /*#__PURE__*/_jsxDEV(BookOpen, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages-container\",\n      children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message-wrapper ${message.sender}`,\n        children: [formatMessage(message), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"timestamp\",\n          children: message.timestamp.toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)]\n      }, message.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"typing-indicator\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-type-selector\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `type-btn ${messageType === 'dialogue' ? 'active' : ''}`,\n        onClick: () => setMessageType('dialogue'),\n        children: \"Dialogue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `type-btn ${messageType === 'action' ? 'active' : ''}`,\n        onClick: () => setMessageType('action'),\n        children: \"Action\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `type-btn ${messageType === 'thought' ? 'active' : ''}`,\n        onClick: () => setMessageType('thought'),\n        children: \"Thought\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-area\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: inputValue,\n        onChange: e => setInputValue(e.target.value),\n        onKeyDown: handleKeyPress,\n        placeholder: messageType === 'dialogue' ? 'Type your dialogue...' : messageType === 'action' ? 'Describe your action...' : 'Share your thoughts...',\n        rows: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"send-btn\",\n        onClick: handleSendMessage,\n        children: /*#__PURE__*/_jsxDEV(Send, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), showInstructionsEditor && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: /*#__PURE__*/_jsxDEV(RoleplayInstructions, {\n          instructions: roleplayInstructions,\n          onSave: saveRoleplayInstructions,\n          onCancel: cancelEditInstructions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 9\n    }, this), showSettingsPanel && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Roleplay Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => setShowSettingsPanel(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"settings-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"AI Response Style\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-control\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Temperature:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"0.3\",\n                  children: \"More Focused (0.3)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"0.7\",\n                  selected: true,\n                  children: \"Balanced (0.7)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1.0\",\n                  children: \"More Creative (1.0)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"setting-description\",\n              children: \"Lower values make responses more predictable, higher values make them more creative.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"settings-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Display Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-control\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this), \" Dark Mode\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-control\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this), \" Show Timestamps\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"save-settings-btn\",\n            children: \"Save Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }, this), showMusicPanel && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Ambient Music\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => setShowMusicPanel(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Choose background music to enhance your roleplay experience:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"music-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"music-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Atmospheric\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"play-btn\",\n                children: \"\\u25B6\\uFE0F Gentle Ambient\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"play-btn\",\n                children: \"\\u25B6\\uFE0F Dark Ambient\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"play-btn\",\n                children: \"\\u25B6\\uFE0F Space\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"music-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Emotional\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"play-btn\",\n                children: \"\\u25B6\\uFE0F Melancholic\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"play-btn\",\n                children: \"\\u25B6\\uFE0F Hopeful\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"play-btn\",\n                children: \"\\u25B6\\uFE0F Tense\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"music-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Location-based\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"play-btn\",\n                children: \"\\u25B6\\uFE0F Nature Sounds\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"play-btn\",\n                children: \"\\u25B6\\uFE0F Urban\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"play-btn\",\n                children: \"\\u25B6\\uFE0F Rain & Thunder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"music-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"Stop Music\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"volume-control\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Volume:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"100\",\n                value: \"70\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"music-note\",\n            children: \"Music feature coming soon! This is a placeholder interface.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 9\n    }, this), showScenarioInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Scenario Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => setShowScenarioInfo(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-body scenario-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: (scenario === null || scenario === void 0 ? void 0 : scenario.title) || 'Untitled Scenario'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Setting\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Location:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 20\n              }, this), \" \", (scenario === null || scenario === void 0 ? void 0 : (_scenario$setting = scenario.setting) === null || _scenario$setting === void 0 ? void 0 : _scenario$setting.location) || 'Not specified']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Time:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 20\n              }, this), \" \", (scenario === null || scenario === void 0 ? void 0 : (_scenario$setting2 = scenario.setting) === null || _scenario$setting2 === void 0 ? void 0 : _scenario$setting2.time) || 'Not specified']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Atmosphere:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 20\n              }, this), \" \", (scenario === null || scenario === void 0 ? void 0 : (_scenario$setting3 = scenario.setting) === null || _scenario$setting3 === void 0 ? void 0 : _scenario$setting3.atmosphere) || 'Not specified']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Your Character\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 20\n              }, this), \" \", (character === null || character === void 0 ? void 0 : character.name) || 'Unnamed']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Age:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 20\n              }, this), \" \", (character === null || character === void 0 ? void 0 : character.age) || 'Not specified']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Other Characters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this), (scenario === null || scenario === void 0 ? void 0 : (_scenario$otherCharac = scenario.otherCharacters) === null || _scenario$otherCharac === void 0 ? void 0 : _scenario$otherCharac.map((char, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"other-character\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: char.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 24\n                }, this), \" (\", char.role, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: char.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 19\n            }, this))) || /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No other characters specified.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Narrative Goals\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: (scenario === null || scenario === void 0 ? void 0 : scenario.narrativeGoals) || 'No specific goals set.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Tone & Themes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: (scenario === null || scenario === void 0 ? void 0 : scenario.toneAndThemes) || 'Not specified'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterface, \"aL+eAh+9qBYba+0rHQuL/ggOZgA=\");\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Send","Settings","Music","BookOpen","ScrollText","RoleplayInstructions","jsxDEV","_jsxDEV","ChatInterface","character","scenario","onSaveChat","geminiService","onReset","_s","_scenario$setting","_scenario$setting2","_scenario$setting3","_scenario$otherCharac","messages","setMessages","inputValue","setInputValue","isTyping","setIsTyping","messageType","setMessageType","showInstructionsEditor","setShowInstructionsEditor","showSettingsPanel","setShowSettingsPanel","showMusicPanel","setShowMusicPanel","showScenarioInfo","setShowScenarioInfo","roleplayInstructions","setRoleplayInstructions","messagesEndRef","length","initialMessage","id","Date","now","type","content","initialSituation","timestamp","handleAiResponse","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","saveRoleplayInstructions","instructions","updateInstructions","cancelEditInstructions","handleSendMessage","trim","userMessage","sender","prev","handleKeyPress","e","key","shiftKey","preventDefault","responseContent","initPrompt","generateGeneric","generateResponse","Promise","resolve","setTimeout","aiMessage","error","console","errorMessage","formatMessage","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","onClick","size","map","toLocaleTimeString","hour","minute","ref","value","onChange","target","onKeyDown","placeholder","rows","onSave","onCancel","selected","checked","min","max","setting","location","time","atmosphere","name","age","otherCharacters","char","index","role","description","narrativeGoals","toneAndThemes","_c","$RefreshReg$"],"sources":["/Users/ryanmorrison/Code/narrativeforge/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Send, Settings, Music, BookOpen, ScrollText } from 'lucide-react';\nimport RoleplayInstructions from './RoleplayInstructions';\n\nconst ChatInterface = ({ character, scenario, onSaveChat, geminiService, onReset }) => {\n  const [messages, setMessages] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [messageType, setMessageType] = useState('dialogue'); // dialogue, action, thought\n  const [showInstructionsEditor, setShowInstructionsEditor] = useState(false);\n  const [showSettingsPanel, setShowSettingsPanel] = useState(false);\n  const [showMusicPanel, setShowMusicPanel] = useState(false);\n  const [showScenarioInfo, setShowScenarioInfo] = useState(false);\n  const [roleplayInstructions, setRoleplayInstructions] = useState(scenario?.roleplayInstructions || '');\n  const messagesEndRef = useRef(null);\n  \n  // When scenario changes, update the roleplay instructions\n  useEffect(() => {\n    if (scenario && scenario.roleplayInstructions) {\n      setRoleplayInstructions(scenario.roleplayInstructions);\n    }\n  }, [scenario]);\n  \n  // Initial system message when the scenario begins\n  useEffect(() => {\n    if (scenario && !messages.length) {\n      // Create initial narrative message describing the scenario\n      const initialMessage = {\n        id: Date.now(),\n        type: 'system',\n        content: scenario.initialSituation,\n        timestamp: new Date()\n      };\n      \n      setMessages([initialMessage]);\n      \n      // If there are roleplay instructions, set them but DON'T add them as a visible message\n      if (scenario.roleplayInstructions) {\n        setRoleplayInstructions(scenario.roleplayInstructions);\n      }\n      \n      // Simulate AI thinking and then responding to set the scene\n      handleAiResponse();\n    }\n  }, [scenario]);\n\n  // Auto-scroll to bottom when messages change\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  // Save roleplay instructions\n  const saveRoleplayInstructions = (instructions) => {\n    setRoleplayInstructions(instructions);\n    setShowInstructionsEditor(false);\n    \n    // Don't add to visible messages, but update the AI context\n    if (geminiService) {\n      geminiService.updateInstructions(instructions);\n    }\n  };\n\n  // Cancel editing instructions\n  const cancelEditInstructions = () => {\n    setShowInstructionsEditor(false);\n  };\n\n  // Send user message\n  const handleSendMessage = () => {\n    if (!inputValue.trim()) return;\n    \n    // Create user message object\n    const userMessage = {\n      id: Date.now(),\n      sender: 'user',\n      type: messageType,\n      content: inputValue,\n      timestamp: new Date()\n    };\n    \n    // Add message to chat\n    setMessages(prev => [...prev, userMessage]);\n    \n    // Clear input field\n    setInputValue('');\n    \n    // Process with AI\n    handleAiResponse(userMessage.content, userMessage.type);\n  };\n\n  // Handle key press (Enter to send)\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  // Get AI response\n  const handleAiResponse = async (userMessage, messageType) => {\n    setIsTyping(true);\n    \n    try {\n      let responseContent;\n      \n      // If we have a Gemini service, use it\n      if (geminiService) {\n        // For the first message, include roleplay instructions if they exist\n        if (!userMessage && roleplayInstructions) {\n          // Add it to the context for the AI but don't show it in chat\n          const initPrompt = `Initial scene: ${scenario.initialSituation}\\n\\nRoleplay instructions:\\n${roleplayInstructions}\\n\\nPlease respond with an opening for this scene, following the roleplay instructions but without mentioning them directly.`;\n          responseContent = await geminiService.generateGeneric(initPrompt);\n        } else {\n          responseContent = await geminiService.generateResponse(userMessage, messageType);\n        }\n      } else {\n        // Fallback for development\n        await new Promise(resolve => setTimeout(resolve, 1500));\n        responseContent = \"This is a placeholder response. In the full implementation, this would be a response from Google's Gemini LLM, responding appropriately to your character's situation.\";\n      }\n      \n      const aiMessage = {\n        id: Date.now(),\n        sender: 'ai',\n        type: 'dialogue',\n        content: responseContent,\n        timestamp: new Date()\n      };\n      \n      setMessages(prev => [...prev, aiMessage]);\n    } catch (error) {\n      console.error('Error getting AI response:', error);\n      \n      // Add error message\n      const errorMessage = {\n        id: Date.now(),\n        sender: 'system',\n        type: 'error',\n        content: 'There was an error getting a response. Please try again.',\n        timestamp: new Date()\n      };\n      \n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  // Format message based on type\n  const formatMessage = (message) => {\n    switch (message.type) {\n      case 'system':\n        return <p className=\"system-message\">{message.content}</p>;\n      case 'error':\n        return <p className=\"error-message\">{message.content}</p>;\n      case 'dialogue':\n        return <p className={`dialogue-message ${message.sender}`}>{message.content}</p>;\n      case 'action':\n        return <p className={`action-message ${message.sender}`}>*{message.content}*</p>;\n      case 'thought':\n        return <p className={`thought-message ${message.sender}`}><i>{message.content}</i></p>;\n      default:\n        return <p className={`message ${message.sender}`}>{message.content}</p>;\n    }\n  };\n\n  return (\n    <div className=\"chat-interface\">\n      <div className=\"chat-header\">\n        <h2>{scenario?.title || 'Untitled Scenario'}</h2>\n        <div className=\"chat-controls\">\n          <button \n            className=\"control-btn reset-chat-btn\" \n            onClick={onReset}\n            title=\"Start Over\"\n          >\n            Start Over\n          </button>\n          <button \n            className=\"control-btn\" \n            onClick={() => setShowInstructionsEditor(true)}\n            title=\"View/Edit Roleplay Instructions\"\n          >\n            <ScrollText size={18} />\n          </button>\n          <button \n            className=\"control-btn\"\n            onClick={() => setShowSettingsPanel(true)}\n            title=\"Roleplay Settings\"\n          >\n            <Settings size={18} />\n          </button>\n          <button \n            className=\"control-btn\"\n            onClick={() => setShowMusicPanel(true)}\n            title=\"Ambient Music\"\n          >\n            <Music size={18} />\n          </button>\n          <button \n            className=\"control-btn\"\n            onClick={() => setShowScenarioInfo(true)}\n            title=\"View Scenario Details\"\n          >\n            <BookOpen size={18} />\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"messages-container\">\n        {messages.map(message => (\n          <div key={message.id} className={`message-wrapper ${message.sender}`}>\n            {formatMessage(message)}\n            <span className=\"timestamp\">\n              {message.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n            </span>\n          </div>\n        ))}\n        \n        {isTyping && (\n          <div className=\"typing-indicator\">\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n        )}\n        \n        <div ref={messagesEndRef} />\n      </div>\n      \n      <div className=\"message-type-selector\">\n        <button \n          className={`type-btn ${messageType === 'dialogue' ? 'active' : ''}`}\n          onClick={() => setMessageType('dialogue')}\n        >\n          Dialogue\n        </button>\n        <button \n          className={`type-btn ${messageType === 'action' ? 'active' : ''}`}\n          onClick={() => setMessageType('action')}\n        >\n          Action\n        </button>\n        <button \n          className={`type-btn ${messageType === 'thought' ? 'active' : ''}`}\n          onClick={() => setMessageType('thought')}\n        >\n          Thought\n        </button>\n      </div>\n      \n      <div className=\"input-area\">\n        <textarea \n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n          onKeyDown={handleKeyPress}\n          placeholder={messageType === 'dialogue' ? 'Type your dialogue...' : \n                       messageType === 'action' ? 'Describe your action...' : 'Share your thoughts...'}\n          rows={3}\n        />\n        <button className=\"send-btn\" onClick={handleSendMessage}>\n          <Send size={20} />\n        </button>\n      </div>\n\n      {/* Roleplay Instructions Modal */}\n      {showInstructionsEditor && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <RoleplayInstructions \n              instructions={roleplayInstructions}\n              onSave={saveRoleplayInstructions}\n              onCancel={cancelEditInstructions}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Settings Panel */}\n      {showSettingsPanel && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"panel-header\">\n              <h3>Roleplay Settings</h3>\n              <button className=\"close-btn\" onClick={() => setShowSettingsPanel(false)}>×</button>\n            </div>\n            <div className=\"panel-body\">\n              <div className=\"settings-section\">\n                <h4>AI Response Style</h4>\n                <div className=\"setting-control\">\n                  <label>Temperature:</label>\n                  <select>\n                    <option value=\"0.3\">More Focused (0.3)</option>\n                    <option value=\"0.7\" selected>Balanced (0.7)</option>\n                    <option value=\"1.0\">More Creative (1.0)</option>\n                  </select>\n                </div>\n                <p className=\"setting-description\">Lower values make responses more predictable, higher values make them more creative.</p>\n              </div>\n              \n              <div className=\"settings-section\">\n                <h4>Display Settings</h4>\n                <div className=\"setting-control\">\n                  <label>\n                    <input type=\"checkbox\" /> Dark Mode\n                  </label>\n                </div>\n                <div className=\"setting-control\">\n                  <label>\n                    <input type=\"checkbox\" checked /> Show Timestamps\n                  </label>\n                </div>\n              </div>\n              \n              <button className=\"save-settings-btn\">Save Settings</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Music Panel */}\n      {showMusicPanel && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"panel-header\">\n              <h3>Ambient Music</h3>\n              <button className=\"close-btn\" onClick={() => setShowMusicPanel(false)}>×</button>\n            </div>\n            <div className=\"panel-body\">\n              <p>Choose background music to enhance your roleplay experience:</p>\n              \n              <div className=\"music-options\">\n                <div className=\"music-option\">\n                  <h4>Atmospheric</h4>\n                  <button className=\"play-btn\">▶️ Gentle Ambient</button>\n                  <button className=\"play-btn\">▶️ Dark Ambient</button>\n                  <button className=\"play-btn\">▶️ Space</button>\n                </div>\n                \n                <div className=\"music-option\">\n                  <h4>Emotional</h4>\n                  <button className=\"play-btn\">▶️ Melancholic</button>\n                  <button className=\"play-btn\">▶️ Hopeful</button>\n                  <button className=\"play-btn\">▶️ Tense</button>\n                </div>\n                \n                <div className=\"music-option\">\n                  <h4>Location-based</h4>\n                  <button className=\"play-btn\">▶️ Nature Sounds</button>\n                  <button className=\"play-btn\">▶️ Urban</button>\n                  <button className=\"play-btn\">▶️ Rain & Thunder</button>\n                </div>\n              </div>\n              \n              <div className=\"music-controls\">\n                <button>Stop Music</button>\n                <div className=\"volume-control\">\n                  <label>Volume:</label>\n                  <input type=\"range\" min=\"0\" max=\"100\" value=\"70\" />\n                </div>\n              </div>\n              \n              <p className=\"music-note\">Music feature coming soon! This is a placeholder interface.</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Scenario Info Panel */}\n      {showScenarioInfo && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"panel-header\">\n              <h3>Scenario Details</h3>\n              <button className=\"close-btn\" onClick={() => setShowScenarioInfo(false)}>×</button>\n            </div>\n            <div className=\"panel-body scenario-info\">\n              <h4>{scenario?.title || 'Untitled Scenario'}</h4>\n              \n              <div className=\"info-section\">\n                <h5>Setting</h5>\n                <p><strong>Location:</strong> {scenario?.setting?.location || 'Not specified'}</p>\n                <p><strong>Time:</strong> {scenario?.setting?.time || 'Not specified'}</p>\n                <p><strong>Atmosphere:</strong> {scenario?.setting?.atmosphere || 'Not specified'}</p>\n              </div>\n              \n              <div className=\"info-section\">\n                <h5>Your Character</h5>\n                <p><strong>Name:</strong> {character?.name || 'Unnamed'}</p>\n                <p><strong>Age:</strong> {character?.age || 'Not specified'}</p>\n              </div>\n              \n              <div className=\"info-section\">\n                <h5>Other Characters</h5>\n                {scenario?.otherCharacters?.map((char, index) => (\n                  <div key={index} className=\"other-character\">\n                    <p><strong>{char.name}</strong> ({char.role})</p>\n                    <p>{char.description}</p>\n                  </div>\n                )) || <p>No other characters specified.</p>}\n              </div>\n              \n              <div className=\"info-section\">\n                <h5>Narrative Goals</h5>\n                <p>{scenario?.narrativeGoals || 'No specific goals set.'}</p>\n              </div>\n              \n              <div className=\"info-section\">\n                <h5>Tone & Themes</h5>\n                <p>{scenario?.toneAndThemes || 'Not specified'}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}